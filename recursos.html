<!DOCTYPE html>
<html>

<head>
    <title>
        Lider en Salud Ocupacional
    </title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/responsive.table.css">

    <script type="module">
        import * as mod from "./js/resourceEngine.js";
        window.onload = mod.createForm();
    </script>

    <script>
        function callOnEdit(td){   
            import("./js/resourceEngine.js").then(mod => {
                mod.onEdit(td);
            });
        }
        function callOnDelete(td){   
            import("./js/resourceEngine.js").then(mod => {
                mod.onDelete(td, triggerMsgBox);
            });
        }
        function callOnFormSubmit(){
            import("./js/resourceEngine.js").then(mod => {
                mod.onFormSubmit(triggerMsgBox);
            });
        }
        function triggerMsgBox(showIt, message){

            // console.log("msgBox -> " + showIt + " - " + message)

            $('#myModal').modal({
                show: 'false'
            }); 

            var modalMessage = document.getElementById("modalContent");
            modalMessage.innerHTML = message;

            if(showIt){
                $("#myModal").modal("show");
            } else {
                $("#myModal").modal("hide");
            }
        }
    </script>

</head>

<body>
    <table  style="width:60%; border:1px solid black;margin-left:auto;margin-right:auto;">
        <tr>
            <td style="text-align: center; vertical-align: middle;">
                <img src="./assets/img/Logo+Ser+Salud+2016+-+versiones-02.jpg" 
                alt="SER SALUD" 
                style="width:100px;height:100px;">
            </td>
            <td style="text-align: left; vertical-align: middle; padding: 20px;">
                <h2 class="title">Registro de Recursos</h2> 
            </td>
        </tr>
    </table>

    <table style="width:60%; border:1px solid black;margin-left:auto;margin-right:auto;">
        <form onsubmit="event.preventDefault();" autocomplete="on">
            <tr>
                <td style="width:40%;">
                    <div>
                        <label>Nombre</label>
                        <label class="validation-error hide" id="nombreValidationError">(*)</label>
                        <input list="nombre" type="text" name="nombre" id="nombre">
   
                    </div>
                    <div>
                        <label>Apellido</label>
                        <label class="validation-error hide" id="apellidoValidationError">(*)</label>
                        <input list="apellido" type="text" name="apellido" id="apellido">
                    </div>
                    <div>
                        <label>Cédula</label>
                        <label class="validation-error hide" id="cedulaValidationError">(*)</label>
                        <input type="text" name="cedula" id="cedula">
                    </div>
                    <div>
                        <label>Dirección</label>
                        <!-- <label class="validation-error hide" id="direccionValidationError">Este campo es obligatorio.</label> -->
                        <input type="text" name="direccion" id="direccion">
                    </div>
                    <div>
                        <label>Teléfono</label>
                        <label class="validation-error hide" id="telefonoValidationError">(*)</label>
                        <input type="text" name="telefono" id="telefono">
                    </div>
                    <div>
                        <label>Correo</label>
                        <!-- <label class="validation-error hide" id="emailValidationError">Este campo es obligatorio.</label> -->
                        <input type="email" name="correo" id="correo">
                    </div>
                    <div>
                        <label>Cargo</label>
                        <label class="validation-error hide" id="ddCargoValidationError">(*)</label>
                        <select name="ddCargo" id="ddCargo">
                            <option disabled selected value> -- Seleccionar una opcion -- </option>
                        </select>
                            
                    </div>
                    <div>
                        <label>Banco</label>
                        <!-- <label class="validation-error hide" id="bancoValidationError">Este campo es obligatorio.</label> -->
                        <input type="text" name="banco" id="banco">
                    </div>
                    <div>
                        <fieldset>

                            <legend><label style="font-size: 20px; margin-left: 10px;">Tipo de Cuenta </label></legend>

                            <!-- <label class="validation-error hide" id="tipoCuentaValidationError">Este campo es obligatorio.</label> -->
                            
                            <input type="radio" name="tipoDeCuenta" id="Corriente" value="Corriente" checked>
                            <label for="Corriente">Corriente</label>

                            <input type="radio" name="tipoDeCuenta" id="Ahorro" value="Ahorro">
                            <label for="Ahorro">Ahorro</label>

                        </fieldset>       
                    </div>
                    <div>
                        <label>Nùmero de Cuenta</label><label class="validation-error hide" id="cuentaValidationError">(*)</label>
                        <input type="text" name="cuenta" id="cuenta">
                    </div>
                    <div>
                        <label>Tipo de Pago</label>
                        <label class="validation-error hide" id="tipoDePagoValidationError">(*)</label>
                        <select name="tipoDePago" id="tipoDePago">
                            <option disabled selected value> -- Seleccionar una opcion -- </option>
                            <option value="TRANSFERENCIA BANCARIA">Transferencia Bancaria</option>
                            <option value="PINPESO">PinPeso</option>
                            <option value="CHEQUE">Cheque</option>
                        </select>
                    </div>
                    <div>
                        <label>Fecha de Inicio</label>
                        <label class="validation-error hide" id="fechaDeInicioValidationError">(*)</label>
                        <input type="date" name="fechaDeInicio" id="fechaDeInicio">
                    </div>
                    <div>
                        <label>Exequatur</label>
                        <input type="text" name="exequatur" id="exequatur">
                    </div>
                    <div>
                        <label>Comentario</label>
                        <textarea name="textarea" name="comentario" id="comentario" oninput="this.value = this.value.toUpperCase()" style="height:50px;"></textarea>
                    </div>
                    <div>
                        <label class="validation-error">(*) Campos con asterisco son obligatorios.</label>
                        <br>
                    </div>
                    <div class="content">
                        <input type="submit" value="Enviar" onclick="return callOnFormSubmit();">
                        <input type="hidden" name="timestamp" id="timestamp" readonly="readonly">
                    </div>
                </td>
            </tr>
        </form>
    </table>
    <br>

    <table  style="width:20%;">
        <tr>
            <td style="text-align: center; vertical-align: middle;" colspan="2">
                <img src="./assets/img/search.png" alt="Download Recursos" title="Decargar Archivo de Datos">
                <label>Filtro</label>
            </td>
        <tr>

        <tr>

            <td>
                <input id="myInput" type="text" placeholder="busqueda..">
            </td>
        </tr>
    </table>

    <table  class="table" id="informe">

        <!-- <caption>Listado de Recursos</caption> -->

        <thead>
            <tr>
                <th>Acción</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Cédula</th>
                <th>Dirección</th>
                <th>Teléfono</th>
                <th>Correo</th>
                <th>Cargo</th>
                <th>Banco</th>
                <th>Tipo de Cuenta</th>
                <th>Nùmero de Cuenta</th>
                <th>Tipo de Pago</th>
                <th>Fecha de Inicio</th>
                <th>Exequatur</th>
                <th>Comentarios</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody>

        </tbody>
    </table>


    <!-- Article Reference: https://www.htmlgoodies.com/javascript/customizing-bootstrap-modals/ -->

    <div class="container">      
        <!-- Modal -->
        <div class="modal fade" id="myModal" role="dialog">
          <div class="modal-dialog">
          
            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h2 class="modal-title title" style="font-size: 20px;">Ser Salud - Nomina App</h4>
              </div>
              <div class="modal-body">
                <p id="modalContent">message goes here</p>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-primary" data-dismiss="modal">Close <span class="glyphicon glyphicon-remove"></span></button>
              </div>
            </div>
          </div>
        </div> 
    </div>

    <script>
        $(document).ready(function(){

            $("#myInput").on("keyup", function() {
                var value = $(this).val().toLowerCase();

                $("#informe tbody tr").filter(function() {
                    $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
                });
            });

            $("input").focus(function(e){
                e.target.style.background = "#EAFAF1";      //Verde Claro//
            }); 

            $("input").blur(function(e){
                e.target.style.background = "white";
                $(this).val($(this).val().toUpperCase());
            });
           
            $('#myModal').on('show.bs.modal', function() {
                // hide it after 3 seconds
                myModalTimeout = setTimeout(function() {
                    $('#myModal').modal('hide');
                }, 4000);
            });  
        });
    </script>

</body>
</html>